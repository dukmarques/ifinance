import { useSession, signOut } from 'next-auth/react';
import { useRouter } from 'next/router';
import styles from './Styles.module.scss';

export default function Navbar() {
    const {data: session} = useSession();
    const router  = useRouter();

    console.log(router.asPath)

    return (
        <div className={styles.container}>
            <div className={styles.content}>
                <div className={styles.perfil}>
                    <img className={styles.logo} src="/assets/images/logo-horizontal.svg" alt="Logo da iFinances" />
                    <img className={styles.photo} src={session?.user?.image!} alt="Foto de Perfil" />
                    <h2>Hello, {session?.user?.name?.substring(0, session.user.name.indexOf(" "))} üëãüèΩ</h2>
                    <p>
                        Bem-vindo de volta ao <br />
                        iFinances.
                    </p>
                </div>

                <div className={styles.navigation}>
                    <a onClick={() => router.push('/dashboard')} className={router.pathname === '/dashboard' ? styles.selected : styles.menu}>
                        <svg width="28" height="30" viewBox="0 0 28 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_422_702)">
                                <path className={styles.pathSelected} d="M10.6479 15.4393C11.8906 15.4393 12.8979 16.4467 12.8979 17.6893V23.1893C12.8979 24.432 11.8906 25.4393 10.6479 25.4393H5.14795C3.90531 25.4393 2.89795 24.432 2.89795 23.1893V17.6893C2.89795 16.4467 3.90531 15.4393 5.14795 15.4393H10.6479ZM22.6479 15.4393C23.8906 15.4393 24.8979 16.4467 24.8979 17.6893V23.1893C24.8979 24.432 23.8906 25.4393 22.6479 25.4393H17.1479C15.9053 25.4393 14.8979 24.432 14.8979 23.1893V17.6893C14.8979 16.4467 15.9053 15.4393 17.1479 15.4393H22.6479ZM10.6479 16.9393H5.14795C4.73374 16.9393 4.39795 17.2751 4.39795 17.6893V23.1893C4.39795 23.6035 4.73374 23.9393 5.14795 23.9393H10.6479C11.0622 23.9393 11.3979 23.6035 11.3979 23.1893V17.6893C11.3979 17.2751 11.0622 16.9393 10.6479 16.9393ZM22.6479 16.9393H17.1479C16.7337 16.9393 16.3979 17.2751 16.3979 17.6893V23.1893C16.3979 23.6035 16.7337 23.9393 17.1479 23.9393H22.6479C23.0622 23.9393 23.3979 23.6035 23.3979 23.1893V17.6893C23.3979 17.2751 23.0622 16.9393 22.6479 16.9393ZM10.6479 3.43933C11.8906 3.43933 12.8979 4.44669 12.8979 5.68933V11.1893C12.8979 12.432 11.8906 13.4393 10.6479 13.4393H5.14795C3.90531 13.4393 2.89795 12.432 2.89795 11.1893V5.68933C2.89795 4.44669 3.90531 3.43933 5.14795 3.43933H10.6479ZM22.6479 3.43933C23.8906 3.43933 24.8979 4.44669 24.8979 5.68933V11.1893C24.8979 12.432 23.8906 13.4393 22.6479 13.4393H17.1479C15.9053 13.4393 14.8979 12.432 14.8979 11.1893V5.68933C14.8979 4.44669 15.9053 3.43933 17.1479 3.43933H22.6479ZM10.6479 4.93933H5.14795C4.73374 4.93933 4.39795 5.27512 4.39795 5.68933V11.1893C4.39795 11.6035 4.73374 11.9393 5.14795 11.9393H10.6479C11.0622 11.9393 11.3979 11.6035 11.3979 11.1893V5.68933C11.3979 5.27512 11.0622 4.93933 10.6479 4.93933ZM22.6479 4.93933H17.1479C16.7337 4.93933 16.3979 5.27512 16.3979 5.68933V11.1893C16.3979 11.6035 16.7337 11.9393 17.1479 11.9393H22.6479C23.0622 11.9393 23.3979 11.6035 23.3979 11.1893V5.68933C23.3979 5.27512 23.0622 4.93933 22.6479 4.93933Z" fill="#404040"/>
                            </g>
                            <defs>
                                <clipPath id="clip0_422_702">
                                    <path d="M0 4C0 1.79086 1.79086 0 4 0H23.9335C26.1426 0 27.9335 1.79086 27.9335 4V25.233C27.9335 27.4421 26.1426 29.233 23.9335 29.233H4C1.79086 29.233 0 27.4421 0 25.233V4Z" fill="white"/>
                                </clipPath>
                            </defs>
                        </svg>
                        <span>Overview</span>
                    </a>

                    <a onClick={() => router.push('/dashboard/transactions')} className={router.pathname === '/dashboard/transactions' ? styles.selected : styles.menu}>
                        <svg width="33" height="31" viewBox="0 0 33 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.7764 9.85464H25.8398" stroke="#404040" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12.7764 15.4221H25.8398" stroke="#404040" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12.7764 20.9895H25.8398" stroke="#404040" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7.75244 9.85477H7.76202" stroke="#404040" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7.75195 15.4221H7.76153" stroke="#404040" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7.75195 20.9895H7.76153" stroke="#404040" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Transa√ß√µes</span>
                    </a>

                    <div onClick={() => router.push('/dashboard/cards')} className={router.pathname === '/dashboard/cards' ? styles.selected : styles.menu}>
                        <svg width="33" height="30" viewBox="0 0 33 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24.5663 8.45061H9.02514C8.07145 8.45061 7.29834 9.21408 7.29834 10.1559V20.3874C7.29834 21.3292 8.07145 22.0927 9.02514 22.0927H24.5663C25.52 22.0927 26.2931 21.3292 26.2931 20.3874V10.1559C26.2931 9.21408 25.52 8.45061 24.5663 8.45061Z" stroke="#404040" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7.29834 13.3228H26.2931" stroke="#404040" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Cart√µes</span>
                    </div>

                    <div onClick={() => router.push('/dashboard/settings')} className={router.pathname === '/dashboard/settings' ? styles.selected : styles.menu}>
                        <svg width="33" height="30" viewBox="0 0 33 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16.7964 17.076C18.1455 17.076 19.2392 16.0661 19.2392 14.8203C19.2392 13.5745 18.1455 12.5645 16.7964 12.5645C15.4472 12.5645 14.3535 13.5745 14.3535 14.8203C14.3535 16.0661 15.4472 17.076 16.7964 17.076Z" stroke="#404040" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22.8218 17.0758C22.7134 17.3026 22.6811 17.5542 22.729 17.7981C22.7768 18.042 22.9028 18.2671 23.0905 18.4443L23.1394 18.4894C23.2908 18.6291 23.4109 18.7949 23.4929 18.9775C23.5748 19.1601 23.617 19.3557 23.617 19.5534C23.617 19.751 23.5748 19.9467 23.4929 20.1292C23.4109 20.3118 23.2908 20.4777 23.1394 20.6173C22.9881 20.7571 22.8085 20.8681 22.6108 20.9437C22.4131 21.0194 22.2012 21.0584 21.9871 21.0584C21.7731 21.0584 21.5612 21.0194 21.3635 20.9437C21.1658 20.8681 20.9862 20.7571 20.8349 20.6173L20.7861 20.5722C20.5942 20.3989 20.3504 20.2826 20.0863 20.2384C19.8221 20.1941 19.5497 20.224 19.3041 20.3241C19.0632 20.4194 18.8578 20.5777 18.7131 20.7794C18.5685 20.9811 18.4908 21.2175 18.4898 21.4595V21.5873C18.4898 21.9861 18.3182 22.3686 18.0128 22.6507C17.7074 22.9327 17.2931 23.0911 16.8612 23.0911C16.4293 23.0911 16.015 22.9327 15.7096 22.6507C15.4042 22.3686 15.2326 21.9861 15.2326 21.5873V21.5196C15.2263 21.2707 15.1391 21.0294 14.9822 20.8269C14.8254 20.6244 14.6062 20.4702 14.3532 20.3842C14.1076 20.2841 13.8351 20.2543 13.571 20.2985C13.3068 20.3427 13.0631 20.459 12.8712 20.6324L12.8223 20.6775C12.6711 20.8173 12.4915 20.9282 12.2937 21.0039C12.096 21.0796 11.8841 21.1185 11.6701 21.1185C11.4561 21.1185 11.2442 21.0796 11.0464 21.0039C10.8487 20.9282 10.6691 20.8173 10.5179 20.6775C10.3665 20.5378 10.2463 20.372 10.1644 20.1894C10.0824 20.0068 10.0402 19.8112 10.0402 19.6135C10.0402 19.4159 10.0824 19.2202 10.1644 19.0376C10.2463 18.8551 10.3665 18.6892 10.5179 18.5496L10.5667 18.5044C10.7545 18.3272 10.8804 18.1022 10.9283 17.8582C10.9762 17.6143 10.9438 17.3628 10.8355 17.136C10.7322 16.9136 10.5608 16.7239 10.3424 16.5903C10.1239 16.4567 9.8679 16.385 9.60587 16.3841H9.46745C9.03552 16.3841 8.62128 16.2256 8.31587 15.9436C8.01045 15.6616 7.83887 15.2791 7.83887 14.8802C7.83887 14.4814 8.01045 14.0989 8.31587 13.8169C8.62128 13.5348 9.03552 13.3764 9.46745 13.3764H9.54073C9.81026 13.3706 10.0717 13.29 10.2909 13.1452C10.5102 13.0004 10.6772 12.798 10.7703 12.5643C10.8787 12.3375 10.911 12.086 10.8631 11.842C10.8152 11.5981 10.6893 11.3731 10.5016 11.1958L10.4527 11.1507C10.3013 11.0111 10.1812 10.8452 10.0992 10.6626C10.0173 10.4801 9.97509 10.2844 9.97509 10.0868C9.97509 9.88914 10.0173 9.69345 10.0992 9.51089C10.1812 9.32833 10.3013 9.16247 10.4527 9.02281C10.604 8.88299 10.7836 8.77207 10.9813 8.69639C11.179 8.62071 11.3909 8.58176 11.605 8.58176C11.819 8.58176 12.0309 8.62071 12.2286 8.69639C12.4263 8.77207 12.6059 8.88299 12.7572 9.02281L12.806 9.06792C12.9979 9.24127 13.2417 9.35755 13.5058 9.40178C13.77 9.446 14.0424 9.41615 14.288 9.31606H14.3532C14.594 9.22074 14.7994 9.06248 14.9441 8.86075C15.0888 8.65901 15.1664 8.42262 15.1675 8.18067V8.05284C15.1675 7.654 15.3391 7.2715 15.6445 6.98947C15.9499 6.70745 16.3641 6.54901 16.796 6.54901C17.228 6.54901 17.6422 6.70745 17.9476 6.98947C18.253 7.2715 18.4246 7.654 18.4246 8.05284V8.12051C18.4257 8.36247 18.5033 8.59886 18.648 8.80059C18.7927 9.00232 18.9981 9.16059 19.2389 9.2559C19.4845 9.35599 19.757 9.38585 20.0211 9.34162C20.2853 9.2974 20.529 9.18112 20.7209 9.00777L20.7698 8.96266C20.921 8.82284 21.1006 8.71191 21.2983 8.63624C21.4961 8.56056 21.708 8.5216 21.922 8.5216C22.136 8.5216 22.3479 8.56056 22.5456 8.63624C22.7434 8.71191 22.923 8.82284 23.0742 8.96266C23.2256 9.10232 23.3458 9.26818 23.4277 9.45074C23.5097 9.6333 23.5519 9.82899 23.5519 10.0266C23.5519 10.2242 23.5097 10.4199 23.4277 10.6025C23.3458 10.7851 23.2256 10.9509 23.0742 11.0906L23.0254 11.1357C22.8376 11.3129 22.7117 11.538 22.6638 11.7819C22.6159 12.0258 22.6482 12.2774 22.7566 12.5042V12.5643C22.8599 12.7867 23.0313 12.9764 23.2497 13.11C23.4682 13.2436 23.7242 13.3153 23.9862 13.3162H24.1246C24.5566 13.3162 24.9708 13.4747 25.2762 13.7567C25.5816 14.0387 25.7532 14.4212 25.7532 14.8201C25.7532 15.2189 25.5816 15.6014 25.2762 15.8834C24.9708 16.1655 24.5566 16.3239 24.1246 16.3239H24.0514C23.7893 16.3249 23.5333 16.3966 23.3149 16.5302C23.0964 16.6638 22.925 16.8534 22.8218 17.0758V17.0758Z" stroke="#404040" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Configura√ß√µes</span>
                    </div>

                    <div onClick={() => signOut()} className={styles.menu}>
                        <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15.625 3.125H19.7917C20.3442 3.125 20.8741 3.34449 21.2648 3.73519C21.6555 4.12589 21.875 4.6558 21.875 5.20833V19.7917C21.875 20.3442 21.6555 20.8741 21.2648 21.2648C20.8741 21.6555 20.3442 21.875 19.7917 21.875H15.625" stroke="#E52E4D" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10.4165 17.7083L15.6248 12.5L10.4165 7.29166" stroke="#E52E4D" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15.625 12.5H3.125" stroke="#E52E4D" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Deslogar</span>
                    </div>
                </div>
                
                <div className={styles.footer}>
                    <img src="/assets/images/navbar-image.svg" alt="" />
                    <a href='https://github.com/dukmarques' target="_blank">Develop with ü´∂üèΩ by Eduardo</a>
                </div>
            </div>
        </div>
    )
}